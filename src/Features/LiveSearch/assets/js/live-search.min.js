jQuery(document).ready(function(){document.querySelectorAll('[name="s"]').forEach(e=>{var t;function n(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),t>=e.length&&(t=0),t<0&&(t=e.length-1),e[t].classList.add("autocomplete-active")}function i(t){for(var n=document.getElementsByClassName("autocomplete-items"),i=0;i<n.length;i++)t!=n[i]&&t!=e&&n[i].parentNode.removeChild(n[i])}e.setAttribute("autocomplete","off"),e.addEventListener("input",function(n){var o,s=this.value;if(i(),!s)return!1;t=-1,this.parentNode.style.position="relative",this.parentNode.style.display="block",(o=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),o.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(o),function(t,n){let o={action:"wp_redisearch_get_suggestion",term:t};jQuery.ajax({data:o,type:"post",url:wpRds.ajaxUrl,success:function(o){let s,a=o;for(let o=0;o<a.length;o+=2)(s=document.createElement("DIV")).innerHTML="<strong>"+a[o].post_title.substr(0,t.length)+"</strong>",s.innerHTML+=a[o].post_title.substr(t.length),s.innerHTML+="<input type='hidden' value='"+a[o].post_title+"'>",s.addEventListener("click",function(t){e.value=this.getElementsByTagName("input")[0].value,e.closest("form").submit(),i()}),n.appendChild(s)}})}(s,o)}),e.addEventListener("keydown",function(e){var i=document.getElementById(this.id+"autocomplete-list");i&&(i=i.getElementsByTagName("div")),40==e.keyCode?(t++,n(i)):38==e.keyCode?(t--,n(i)):13==e.keyCode&&t>-1&&i&&i[t].click()}),document.addEventListener("click",function(e){i(e.target)})})});